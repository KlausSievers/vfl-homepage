/*! Help & Manual WebHelp 3 Script functions
Copyright (c) 2014-2016 by Tim Green. All rights reserved. Contact tg@it-authoring.com
*/
var hmDevice={};hmDevice.agent=navigator.userAgent.toLowerCase();hmDevice.platform=navigator.platform.toLowerCase();hmDevice.touch=/touch/.test(hmDevice.agent);hmDevice.mb=/mobi|mobile/.test(hmDevice.agent);hmDevice.ipad=/ipad/.test(hmDevice.platform);hmDevice.iphone=/iphone/.test(hmDevice.platform);hmDevice.goodandroid=(/android.+?applewebkit\/(?:(?:537\.(?:3[6-9]|[4-9][0-9]))|(?:53[8-9]\.[0-9][0-9])|(?:54[0-9]\.[0-9][0-9]))|android.+?gecko\/[345][0-9]\.\d{1,2} firefox/.test(hmDevice.agent));hmDevice.deadandroid=(/android.+?applewebkit\/(?:53[0-6]\.\d{1,2})|firefox\/[0-2]\d\.\d{1,2}/.test(hmDevice.agent));hmDevice.android=(/android/.test(hmDevice.agent)&&!hmDevice.deadandroid);hmDevice.w8desktop=(/windows nt 6\.[2345]/m.test(hmDevice.agent));hmDevice.w8metro=(function(){var a=true;try{new ActiveXObject("htmlfile")}catch(b){a=false}return(!a&&hmDevice.w8desktop)})();hmDevice.tb=(/tablet/.test(hmDevice.agent)&&(!/trident/.test(hmDevice.agent)||(hmDevice.w8metro&&hmDevice.touch)));hmDevice.phone=(hmDevice.mb&&!hmDevice.ipad&&!hmDevice.tb);hmDevice.tablet=(hmDevice.ipad||hmDevice.tb||(!hmDevice.phone&&hmDevice.android));hmDevice.desktop=((!hmDevice.tablet&&!hmDevice.phone));hmDevice.device=hmDevice.phone?"phone":hmDevice.tablet?"tablet":hmDevice.desktop?"desktop":"default";var hmHelp;function hmH(f,q,e){this.showhelp=false;this.alwaysOn=jQuery("div#helpwrapper").is(":visible");var c=q,m=f,j=e,r=document.location.search.substr(1).split("&"),a,i=false,g=document.getElementById("helpwrapper"),o=document.getElementById("hmHelpButton"),d=false;this.helpWrapper=g;if(r[0]!=""){var k=true;r.forEach(function(t){if(/^hmhelp=/.test(t)&&k){var s=document.location.hash!=""?"?anchor="+document.location.hash.substr(1):"";a=t.substr(7)+s;k=false;d=true}})}this.showhelp=d;this.mobileHelp=function(u,s){var t=window.open(m+u,"hm_mobilehelp","",false);if(typeof s=="function"){setTimeout(function(){s("mobile")},500)}};this.showHelp=function(t,s){var u=false;if(typeof s=="function"){u=true}if(j!="desktop"){if(typeof t!=="undefined"&&t!=null){this.mobileHelp(t,s)}else{if(typeof a!=="undefined"){this.mobileHelp(a,s);a=undefined}else{this.mobileHelp(c,s)}}return}if(!i){if(typeof t!="undefined"&&t!=null){c=t}if(typeof a!="undefined"){c=a}jQuery("div#helpwrapper").append('<iframe id="hmhelp" class="webhelp" src="'+m+c+'" seamless="seamless" width="100%" height="100%" frameborder="0"></iframe>')}if(i&&typeof t!="undefined"){xMessage.loadTopic("hmhelp",t)}i=true;if(!this.alwaysOn){if(jQuery("div#helpwrapper").is(":hidden")){jQuery("div#helpwrapper").hide().css("visibility","visible").fadeIn(400,function(){if(u){s("open")}});jQuery(".hmHelpToggle").text("Hide Embedded Help")}else{if(typeof t=="undefined"||t==null){jQuery("div#helpwrapper").fadeOut(400,function(){jQuery(this).css("visibility","hidden").css("display","none");if(u){s("close")}});jQuery(".hmHelpToggle").text("Show Embedded Help")}}}};var h="",b="",p=false,l=jQuery("body").css("overflow"),n=jQuery("html").css("overflow");this.doFullWindow=function(){if(!i){return}if(p){jQuery("div#helpwrapper").attr("style",h);jQuery("iframe#hmhelp").attr("style",b);jQuery("body").css("overflow",l);jQuery("html").css("overflow",n);p=false}else{h=("position:"+jQuery("div#helpwrapper").css("position")+"; float: "+jQuery("div#helpwrapper").css("float")+"; display: block;");b=jQuery("iframe#hmhelp").attr("style");jQuery("body,html").css("overflow","hidden");jQuery("div#helpwrapper").attr("style","display: block; position: absolute; width: auto; float: none; height: auto; top: 0; left: 0; right: 0; bottom: 0; border-radius: 0;");jQuery("iframe#hmhelp").attr("style","");window.scrollTo(0,0);p=true;if(this.showhelp){this.showHelp()}}};if(this.showhelp&&hmDevice.desktop){this.showHelp(c)}}function initHmHelp(c,b){c=c.slice(-1)=="/"?c:c+"/";if(!window.jQuery){var d=document.createElement("script");d.setAttribute("type","text/javascript");d.setAttribute("src",c+"js/jquery.js");document.getElementsByTagName("head")[0].appendChild(d)}var a=setInterval(function(){if(window.jQuery){clearInterval(a);jQuery(document).ready(function(){if(hmDevice.desktop){jQuery.ajaxPrefilter("json script",function(e){e.crossDomain=true});jQuery.getScript(c+"js/xmessage.js",function(e,g,f){xMessage=new xMsg("EMBED PARENT: ");hmHelp=new hmH(c,b,"desktop");if(hmHelp.alwaysOn){hmHelp.showHelp()}})}else{hmHelp=new hmH(c,b,"mobile");if(hmHelp.alwaysOn){hmHelp.helpWrapper.style.display="none"}}})}},50)};
